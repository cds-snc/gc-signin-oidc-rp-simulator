<!DOCTYPE html>
<html lang="<%= lang %>">
   <%- include('head')-%>
   <body onload="setOptionsValues()" vocab="http://schema.org/" typeof="WebPage" class="page-home">
      <%- include('header')-%>
      <main property="mainContentOfPage" class="container">
         <div class="row profile">
            <div class="col-md-12">
               <h1 property="name" id="wb-cont">Sign in to the FCAC Secure Portal</h1>
            </div>
            <div class="col-md-12">
               <fieldset class="mrgn-tp-sm">
                  <legend>How did you sign in last time?</legend>
                  <div class="radio">
                     <label>
                     <input type="radio" name="signin" value="gc-signin">
                     <span class="text-bold">GC Sign in</span><br>
                     <span class="text-muted">Email and password</span>
                     </label>
                  </div>
                  <div class="radio">
                     <label>
                     <input type="radio" name="signin" value="gckey">
                     <span class="text-bold">GCKey</span><br>
                     <span class="text-muted">Username and password</span>
                     </label>
                  </div>
                  <div class="radio">
                     <label>
                     <input type="radio" name="signin" value="interac">
                     <span class="text-bold">Interac sign-in partners</span><br>
                     <span class="text-muted">Canadian banks</span>
                     </label>
                  </div>
               </fieldset>
            </div>
            <div class="col-md-12">
               <div class="mrgn-tp-lg">
                  <!-- Section 1: GC Sign in -->
                  <section id="panel-gc-signin" class="signin-panel hidden" aria-hidden="true">
                     <h2 class="h3 mrgn-tp-0">Use your GC Sign in</h2>
                     <p>You will be redirected to sign in with your GC Sign in.</p>
                      <p class="mrgn-tp-md">
                        <a 
                            class="btn btn-primary" 
                            id="SignInWithGCSignIn" 
                            href="/auth/<%= oidc_clients[2].name %>" 
                            onclick="submitWithQueryString(this)"
                            >
                            <span class="fas fa-sign-in-alt"></span> 
                            Sign in with GC Sign in
                        </a> 
                     </p>
                  </section>
                  <!-- Section 2: GCKey -->
                  <section id="panel-gckey" class="signin-panel hidden" aria-hidden="true">
                     <h2 class="h3 mrgn-tp-0">GCKey is being replaced</h2>
                     <p>
                        Please complete the steps below to keep your existing <strong>FCAC Secure Portal account data.</strong>
                     </p>
                     <ol class="gc-stepper" role="list">
                        <li class="gc-stepper__item is-current" aria-current="step">
                           <div class="gc-stepper__dot">
                              <span class="wb-inv">Current step: </span>Step 1
                           </div>
                           <div class="gc-stepper__title">Step 1</div>
                           <div class="gc-stepper__desc">Create a GC Sign in or sign in</div>
                        </li>
                        <li class="gc-stepper__item">
                           <div class="gc-stepper__dot">
                              <span class="wb-inv">Step </span>2
                           </div>
                           <div class="gc-stepper__title">Step 2</div>
                           <div class="gc-stepper__desc">Link your old sign-in method</div>
                        </li>
                        <li class="gc-stepper__item">
                           <div class="gc-stepper__dot">
                              <span class="wb-inv">Step </span>3
                           </div>
                           <div class="gc-stepper__title">Step 3</div>
                           <div class="gc-stepper__desc">Access your existing account</div>
                        </li>
                     </ol>
                     
                     <h3 class="h4">Step 1: Create a GC Sign in if you don’t have one</h3>
                     <p>If you’ve already used GC Sign in on another service, you can enter your email and password.</p>
                     
                     <h3 class="h4">Step 2: Link your GCKey</h3>
                     <p>Use the GCKey you used the last time you signed in to this service.</p>
                     
                     <h3 class="h4">Step 3: Access your existing account</h3>
                     <p>After linking, you’ll continue to your existing account.</p>
                     <p class="mrgn-tp-md">
                        <a 
                            class="btn btn-primary" 
                            id="SignInWithGCSignIn" 
                            href="/auth/<%= oidc_clients[1].name%>/<%= lang %>" 
                            onclick="submitWithQueryString(this)"
                            >
                            <span class="fas fa-sign-in-alt"></span> 
                            Start Step 1
                        </a> 
                     </p>

                     <!-- "For more information" block -->
                     <section class="alert alert-info mrgn-tp-lg" role="note">
                        <h3 class="h5 mrgn-tp-0">For more information</h3>
                        <p class="mrgn-bttm-0">
                           <a href="#" target="_blank" rel="noopener noreferrer">
                           How to update your sign-in method<span class="wb-inv"> (opens in a new tab)</span>
                           </a>
                        </p>
                     </section>
                  </section>
                  <!-- Section 3: Interac -->
                  <section id="panel-interac" class="signin-panel hidden" aria-hidden="true">
                     <h2 class="h3 mrgn-tp-0">Interac sign-in partners are being replaced</h2>
                     <p>
                        Please complete the steps below to keep your existing <strong>FCAC Secure Portal account data.</strong>
                     </p>
                     <ol class="gc-stepper" role="list">
                        <li class="gc-stepper__item is-current" aria-current="step">
                           <div class="gc-stepper__dot">
                              <span class="wb-inv">Current step: </span>Step 1
                           </div>
                           <div class="gc-stepper__title">Step 1</div>
                           <div class="gc-stepper__desc">Create a GC Sign in or sign in</div>
                        </li>
                        <li class="gc-stepper__item">
                           <div class="gc-stepper__dot">
                              <span class="wb-inv">Step </span>2
                           </div>
                           <div class="gc-stepper__title">Step 2</div>
                           <div class="gc-stepper__desc">Link your old sign-in method</div>
                        </li>
                        <li class="gc-stepper__item">
                           <div class="gc-stepper__dot">
                              <span class="wb-inv">Step </span>3
                           </div>
                           <div class="gc-stepper__title">Step 3</div>
                           <div class="gc-stepper__desc">Access your existing account</div>
                        </li>
                     </ol>
                     
                     <h3 class="h4">Step 1: Create a GC Sign in if you don’t have one</h3>
                     <p>If you’ve already used GC Sign in on another service, you can enter your email and password.</p>
                     
                     <h3 class="h4">Step 2: Link your Interac sign-in partner</h3>
                     <p>Use the bank sign-in you used the last time you signed in to this service.</p>
                     
                     <h3 class="h4">Step 3: Access your existing account</h3>
                     <p>After linking, you’ll continue to your existing account.</p>
                     
                     <p class="mrgn-tp-md">
                        <a 
                            class="btn btn-primary" 
                            id="SignInWithGCSignIn" 
                            href="/auth/<%= oidc_clients[1].name%>/<%= lang %>" 
                            onclick="submitWithQueryString(this)"
                            >
                            <span class="fas fa-sign-in-alt"></span> 
                            Start Step 1
                        </a> 
                     </p>
                     <section class="alert alert-info mrgn-tp-lg" role="note">
                        <h3 class="h5 mrgn-tp-0">For more information</h3>
                        <p class="mrgn-bttm-0">
                           <a href="#" target="_blank" rel="noopener noreferrer">
                           How to update your sign-in method<span class="wb-inv"> (opens in a new tab)</span>
                           </a>
                        </p>
                     </section>
                  </section>
               </div>
            </div>
         </div>
         <script>
            (function () {
                const radios = document.querySelectorAll('input[name="signin"]');
                const panels = document.querySelectorAll('.signin-panel');
            
                function hideAllPanels() {
                    panels.forEach(panel => {
                    panel.classList.add('hidden');
                    panel.setAttribute('aria-hidden', 'true');
                    });
                }
            
                function showPanel(value) {
                    const panel = document.getElementById('panel-' + value);
                    if (!panel) return;
            
                    panel.classList.remove('hidden');
                    panel.setAttribute('aria-hidden', 'false');
                }
            
                radios.forEach(radio => {
                    radio.addEventListener('change', function () {
                    hideAllPanels();
                    showPanel(this.value);
                    });
            });
            
            // Optional: show panel if a radio is pre-selected
            const checked = document.querySelector('input[name="signin"]:checked');
            if (checked) {
                hideAllPanels();
                showPanel(checked.value);
            }
            })();
         </script>
         <style>
            /* Layout */
            .gc-stepper {
                display: flex;
                justify-content: space-between;
                gap: 1.5rem;
                padding: 0;
                margin: 0;
            }
            .gc-stepper__item {
                list-style: none;
                position: relative;
                flex: 1 1 0;
                text-align: center;
                padding-top: 0.25rem;
            }
            /* Connector line (drawn behind the dots) */
            .gc-stepper__item:not(:last-child)::after {
                content: "";
                position: absolute;
                top: 1.25rem;           /* vertical center of dot */
                left: 50%;
                right: -50%;
                height: 4px;
                background: #4b4b4b;
                z-index: 0;
            }
            /* Dot */
            .gc-stepper__dot {
                width: 2.5rem;
                height: 2.5rem;
                border-radius: 50%;
                border: 3px solid #4b4b4b;
                background: #fff;
                margin: 0 auto 0.75rem;
                position: relative;
                z-index: 1;
                /* hide the numeric text visually but keep it for screen readers */
                text-indent: -9999px;
                overflow: hidden;
            }
            /* Current step styling (matches your “blue ring + filled center” look) */
            .gc-stepper__item.is-current .gc-stepper__dot {
                border-color: #2b50d9;
            }
            .gc-stepper__item.is-current .gc-stepper__dot::after {
                content: "";
                width: 1rem;
                height: 1rem;
                border-radius: 50%;
                background: #2b50d9;
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }
            /* Typography */
            .gc-stepper__title {
                font-weight: 700;
                font-size: 1.25rem;
                line-height: 1.2;
            }
            .gc-stepper__desc {
                color: #6b6b6b;
                font-size: 1rem;
                line-height: 1.3;
                max-width: 14rem;
                margin: 0.25rem auto 0;
            }
            /* Responsive: stack on small screens */
            @media (max-width: 768px) {
                .gc-stepper {
                    flex-direction: column;
                    align-items: stretch;
                }
                .gc-stepper__item {
                    text-align: left;
                    padding-left: 3.25rem;
                }
                .gc-stepper__item:not(:last-child)::after {
                    left: 1.25rem;
                    right: auto;
                    top: 2.5rem;
                    width: 4px;
                    height: calc(100% - 2.5rem);
                }
                .gc-stepper__dot {
                    position: absolute;
                    left: 0;
                    margin: 0;
                }
                .gc-stepper__desc {
                    max-width: none;
                    margin: 0.25rem 0 0;
                }
            }
         </style>
         <%- include('preFooter')-%>
      </main>
      <%- include('footer')-%>
   </body>
</html>